{"version":3,"sources":["src\\components\\children\\signup.vue"],"names":[],"mappings":"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","file":"signup.7dde6407.map","sourcesContent":["<template>\r\n    <div id=\"signup\">\r\n        <div class=\"alertContainer\">\r\n            <b-alert :variant=\"variant\" dismissible :show=\"dismissCountDown\" @dismissed=\"dismissCountdown=0\" @dismiss-count-down=\"countDownChanged\">\r\n                {{info}} 这条消息将在 {{dismissCountDown}} 秒后消失...\r\n            </b-alert>\r\n        </div>\r\n        <b-form @keyup=\"keyup\">\r\n            <div class=\"input\"><input type=\"text\" class=\"form-control\" v-model=\"realName\" :state=\"realNameState\" placeholder=\"例：梁家栋\" /><font v-show=\"realName\" @click.stop=\"realName=''\"><i class=\"fa fa-times\"></i></font></div>\r\n            <span>{{realName?(/^[\\u4E00-\\u9FA5A-Za-z]+$/).test(realName)?nametip[1]:nametip[4]:nametip[2]}}</span>\r\n            <div class=\"input\"><input type=\"text\" class=\"form-control\" v-model=\"studyId\" :state=\"studyIdState\" placeholder=\"例：xxxxxxxxx\" /><font v-show=\"studyId\" @click.stop=\"studyId=''\"><i class=\"fa fa-times\"></i></font></div>\r\n            <span>{{studyId?nametip[1]:nametip[3]}}</span>\r\n            <div class=\"input\"><input type=\"text\" class=\"form-control\" v-model=\"name\" :state=\"nameState\" placeholder=\"输入用户名\" /><font v-show=\"name\" @click.stop=\"name=''\"><i class=\"fa fa-times\"></i></font></div>\r\n            <span>{{name?nametip[1]:nametip[0]}}</span>\r\n            <div class=\"input\"><input type=\"text\" class=\"form-control\" v-model=\"pwd\" :state=\"pwdState\" placeholder=\"输入密码\" /><font v-show=\"pwd\" @click.stop=\"pwd=''\"><i class=\"fa fa-times\"></i></font></div>\r\n            <span>{{pwd.length>=6?/^[0-9a-zA-Z!@#$^*]{6,18}$/.test(pwd)?pwdtip[i]:pwdtip[4]:pwdtip[0]}}</span>\r\n            <div class=\"input\"><input type=\"text\" class=\"form-control\" v-model=\"confirmPwd\" :state=\"confirmPwdState\" placeholder=\"确认密码\" /><font v-show=\"confirmPwd\" @click.stop=\"confirmPwd=''\"><i class=\"fa fa-times\"></i></font></div>\r\n            <span>{{confirmPwd?confirmPwd==pwd?pwdtip[1]:pwdtip[2]:pwdtip[3]}}</span>\r\n        </b-form>\r\n        <p>\r\n            <button class=\"form-control\" :disabled=\"disabled\" @click.stop=\"signup\">注册</button>\r\n            <router-link to='/signin'>登录</router-link>\r\n        </p>\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    data() {\r\n        return {\r\n            realName:'',\r\n            studyId:'',\r\n            name:'',\r\n            pwd:'',\r\n            confirmPwd:'',\r\n            nametip:['用户名不能为空','ok','姓名不能为空','学号不能为空','姓名格式不对','学号不能带空格'],\r\n            pwdtip:['密码不能少于6位','ok','确认密码是否正确','确认密码不能为空','密码格式不对','弱','中','强','超强'],\r\n\t\t\tdismissSecs: 5,\r\n            dismissCountDown: 0,\r\n            variant:'',\r\n            info:''\r\n        }\r\n    },\r\n    methods: {\r\n        countDownChanged (dismissCountDown) {\r\n\t\t\tthis.dismissCountDown = dismissCountDown\r\n        },\r\n        keyup (event) {\r\n            if(event.keyCode==38||event.keyCode==40) return\r\n\t\t\tif(!this.disabled&&event.keyCode==13){\r\n                this.signup()\r\n            }\r\n        },\r\n        signup() {\r\n            this.axios.post('/signup', { realName: this.realName,studyId: this.studyId,name: this.name,pwd: this.pwd }).then(res=>{\r\n                if (res.data.info != '注册成功') {\r\n                    this.variant = 'danger';\r\n                    this.dismissCountDown = this.dismissSecs;\r\n                    this.info = res.data.info\r\n                }\r\n                else {\r\n                    this.$cookies.set('isLogin','1245465r654fghfgfwcb'+res.data.user,60*60*24*3)\r\n                    this.$router.push({path:'/vote'})\r\n                }\r\n            },res=>{\r\n                this.variant = 'danger';\r\n                this.dismissCountDown = this.dismissSecs;\r\n                this.info = '服务器已关闭'\r\n            })\r\n        }\r\n    },\r\n    computed: {\r\n        i() {\r\n            const intensity=(/[0-9]/.test(this.pwd)?1:0)+(/[a-z]/.test(this.pwd)?1:0)+(/[A-Z]/.test(this.pwd)?1:0)+(/[!@#$^*]/.test(this.pwd)?1:0)\r\n            return intensity==4?8:intensity==3?7:intensity==2?6:5\r\n        },\r\n        realNameState() {\r\n            return this.realName?true:null\r\n        },\r\n        studyIdState() {\r\n            return this.studyId?true:null\r\n        },\r\n        nameState() {\r\n            return this.name?true:null\r\n        },\r\n        pwdState() {\r\n            return /^[0-9a-zA-Z!@#$^*]{6,18}$/.test(this.pwd)?true:null\r\n        },\r\n        confirmPwdState() {\r\n            return this.confirmPwd?true:null\r\n        },\r\n        disabled() {\r\n            return this.name&&/^[0-9a-zA-Z!@#$^*]{6,18}$/.test(this.pwd)&&this.realName&&(/^[\\u4E00-\\u9FA5A-Za-z]+$/).test(this.realName)&&this.studyId&&this.confirmPwd&&this.confirmPwd==this.pwd?false:true\r\n        }\r\n    }\r\n}\r\n/* fetch('https://quiet-mesa-99852.herokuapp.com/signup',{\r\n    method:'post',\r\n    mode: 'cors',\r\n    headers: {\r\n        'Access-Control-Allow-Origin': '*',\r\n        'Content-Type': 'application/json'\r\n    }, \r\n    body:JSON.stringify({ 'realName': this.realName,'studyId': this.studyId,'name': this.name,'pwd': this.pwd })\r\n})\r\n.then(res=>res.json())\r\n.then(json=>{\r\n    if (json.info != '注册成功') {\r\n        this.variant = 'danger';\r\n        this.dismissCountDown = this.dismissSecs;\r\n        this.info = json.info\r\n    }\r\n    else {\r\n        this.$cookies.set('isLogin','1245465r654fghfgfwcb'+json.user,60*60*24*3)\r\n        this.$router.push({path:'/vote'})\r\n    }\r\n})\r\n.catch(e => {\r\n    this.variant='danger';\r\n    this.dismissCountDown = this.dismissSecs;\r\n    this.info='服务器已关闭'\r\n}) */\r\n</script>\r\n"]}